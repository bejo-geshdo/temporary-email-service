name: Deploy frontend Prod

on:
  workflow_dispatch:

  push:
    branches:
      - main
    paths:
      - vite-frontend/**
      - .github/workflows/frontend.yml
      - .github/workflows/prod-frontend.yml

permissions:
  id-token: write
  contents: read

jobs:
  deploy:
    uses: ./.github/workflows/frontend.yml
    with:
      aws_role: $PROD_FRONTEND_AWS_ROLE
      aws_region: $PROD_AWS_REGION

      code_dir: $FRONTEND_CODE_DIR
      aws_bucket_name: $PROD_FRONTEND_AWS_BUCKET_NAME
